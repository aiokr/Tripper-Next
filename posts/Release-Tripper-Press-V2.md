---
title: 宣布 Tripper Press V2
date: 2023-05-01
type: Post
cover: 'https://imgur.lzmun.com/picgo/after2022/apple-store-wuhan_itp'
url: release-tr-v2
---

经过一段时间的开发，全新的 Tripper Press 网站终于上线了。

## 碎碎念
之前的网站是基于 Hexo 建立的纯静态网站，文章和内容储存在同一个仓库中，通过 Git 的子仓库功能来分别进行管理。但是毕竟文章也需要 Push 到仓库中，才能触发构建，因此最后也放弃了通过子仓库管理文章，倒是在开发主题的时候会使用专门维护主题的仓库。

在开发V2的时候，首要的想法是，能比较好地展示照片和视频，能方便地更新文章。在刚刚开始的时候便使用了 Strapi + Vue 的前后端分离的设计。但是之后由于 Railway 的价格过于昂贵，在自建服务器上 Strapi 一直架设不起来，遂放弃这个想法，转而回到静态生成器的怀抱。

在选择静态生成器的框架时，一开始在基于 Vue 的 Gridsome 和 Nuxt.js 之间纠结，但是由于 Gridsome 很久没有维护，在 M1 上甚至无法安装（为了安装 M1，将 node 卸载准备换成 nvm 的时候，还把系统整崩了）， Nuxt.js 和 Vue 的文件形式并不相容索性直接抛弃之前写的前端页面，从头开始学习 Next.js 。

在开发的过程中 ChatGPT 也帮了很大的忙。很多时候都是想当然地写一段代码，然后把代码和报错一起抛给 GPT，问他该怎么改，然后 GPT 就会把正确的代码写出来了。在 GPT 问世之前，只依靠查文档和搜索引擎，我也不可能这么快地从零开始能使用一个新的框架写出一个新的网站。

## 架构
目前
在开始使用 Next.js 时，便直接上了 Next.js 13.3 版本，这一个版本新增了 app/ 目录作为路由，并且不再支持 getStaticPaths、getStaticProps 等函数，转而以请求是否附带 headers 判断时静态生成还是服务端渲染。并且新版本的文档也不算非常完善，还有很多空缺。
